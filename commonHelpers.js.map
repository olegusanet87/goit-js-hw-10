{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["'use strict';\nconsole.log(\"Timer\");\n\nimport flatpickr from \"flatpickr\";\n\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport Error from '../img/bi_x-octagon.svg';\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n//require(\"/flatpickr/dist/themes/dark.css\");\nconst inputDate = document.querySelector('#datetime-picker');\ninputDate.classList.add('dataset');\nconst btnStart = document.querySelector('[data-start]');\nbtnStart.classList.add('startbutton');\ndocument.querySelector('[data-start]').disabled = true;\n//btnStart.setAttribute.disabled;\n\nlet intervalId = null;\nlet userSelectedDate = null;\n\nfunction convertMs(ms) {\n\t// Number of milliseconds per unit of time\n\tconst second = 1000;\n\tconst minute = second * 60;\n\tconst hour = minute * 60;\n\tconst day = hour * 24;\n\n\t// Remaining days\n\tconst days = Math.floor(ms / day);\n\t// Remaining hours\n\tconst hours = Math.floor((ms % day) / hour);\n\t// Remaining minutes\n\tconst minutes = Math.floor(((ms % day) % hour) / minute);\n\t// Remaining seconds\n\tconst seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n\treturn { days, hours, minutes, seconds };\n}\n\n\nfunction selectedDates() {\n\tif (!userSelectedDate || userSelectedDate <= Date.now() || isNaN(userSelectedDate)) {\n\t\tiziToast.error({\n\t\t\tclass: 'popup-message',\n\t\t\ttheme: 'dark',\n\t\t\tbackgroundColor: '#ef4040',\n\t\t\tmessageColor: '#fff',\n\t\t\tposition: 'topRight',\n\t\t\tpauseOnHover: true,\n\t\t\ttimeout: 3000,\n\t\t\ticonUrl: Error,\n\t\t\ttitle: 'Error',\n\t\t\tmessage: 'Please choose a date in the future',\n\t\t});\n\t\tdocument.querySelector('[data-start]').disabled = true;\n\n\t} else {\n\t\tbtnStart.removeAttribute.disabled;\n\t\tdocument.querySelector('[data-start]').disabled = false;\n\t\tbtnStart.classList.add('normal');\n\t\tinputDate.classList.add('active');\n\n\n\t\tbtnStart.addEventListener('mouseover', function () {\n\t\t\tbtnStart.classList.add('hover');\n\t\t});\n\n\t\tbtnStart.addEventListener('mouseout', function () {\n\t\t\tbtnStart.classList.remove('hover');\n\t\t});\n\t\tinputDate.addEventListener('mouseover', function () {\n\t\t\tinputDate.classList.add('hover');\n\t\t});\n\n\t\tinputDate.addEventListener('mouseout', function () {\n\t\t\tinputDate.classList.remove('hover');\n\t\t});\n\n\t}\n}\n\ndocument.querySelector('[data-start]').addEventListener(\"click\", () => {\n\tclearInterval(intervalId);\n\tselectedDates();\n\n\tconst selectedDate = userSelectedDate;\n\n\tconst currentDate = new Date();\n\n\tlet differenceMs = selectedDate.getTime() - currentDate.getTime();\n\n\tif (differenceMs > 0) {\n\n\n\n\n\t\tintervalId = setInterval(() => {\n\n\t\t\tlet { days, hours, minutes, seconds } = convertMs(differenceMs);\n\t\t\tdocument.querySelector('[data-days]').textContent = addLeadingZero(days);\n\t\t\tdocument.querySelector('[data-hours]').textContent = addLeadingZero(hours);\n\t\t\tdocument.querySelector('[data-minutes]').textContent = addLeadingZero(minutes);\n\t\t\tdocument.querySelector('[data-seconds]').textContent = addLeadingZero(seconds);\n\t\t\tdifferenceMs -= 1000;\n\n\t\t\tif (differenceMs <= 0) {\n\n\t\t\t\tclearInterval(intervalId);\n\t\t\t\tdocument.querySelector('[data-start]').disabled = false;\n\t\t\t\tdocument.querySelector('#datetime-picker').disabled = false;\n\n\n\t\t\t}\n\n\t\t}, 1000);\n\t\tdocument.querySelector('[data-start]').disabled = true;\n\t\tdocument.querySelector('#datetime-picker').disabled = true;\n\t\tinputDate.classList.add('disable');\n\t\tbtnStart.classList.remove('normal');\n\t\tbtnStart.classList.remove('hover');\n\n\n\n\t}\n});\n\nconst options = {\n\tenableTime: true,\n\ttime_24hr: true,\n\tdefaultDate: new Date(),\n\tminuteIncrement: 1,\n\tonClose(selectedDatesArray) {\n\t\tconsole.log(selectedDatesArray[0]);\n\t\tuserSelectedDate = selectedDatesArray[0];\n\t\tselectedDates();\n\t},\n};\nflatpickr(\"#datetime-picker\", options);\n\nfunction addLeadingZero(value) {\n\tif (value < 10) {\n\t\treturn value.toString().padStart(2, '0');\n\t} else {\n\t\treturn value.toString();\n\t}\n\n};\n\n"],"names":["inputDate","btnStart","intervalId","userSelectedDate","convertMs","ms","days","hours","minutes","seconds","selectedDates","iziToast","Error","selectedDate","currentDate","differenceMs","addLeadingZero","options","selectedDatesArray","flatpickr","value"],"mappings":"iJACA,QAAQ,IAAI,OAAO,EAWnB,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EAC3DA,EAAU,UAAU,IAAI,SAAS,EACjC,MAAMC,EAAW,SAAS,cAAc,cAAc,EACtDA,EAAS,UAAU,IAAI,aAAa,EACpC,SAAS,cAAc,cAAc,EAAE,SAAW,GAGlD,IAAIC,EAAa,KACbC,EAAmB,KAEvB,SAASC,EAAUC,EAAI,CAQtB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAGA,SAASC,GAAgB,CACpB,CAACP,GAAoBA,GAAoB,KAAK,OAAS,MAAMA,CAAgB,GAChFQ,EAAS,MAAM,CACd,MAAO,gBACP,MAAO,OACP,gBAAiB,UACjB,aAAc,OACd,SAAU,WACV,aAAc,GACd,QAAS,IACT,QAASC,EACT,MAAO,QACP,QAAS,oCACZ,CAAG,EACD,SAAS,cAAc,cAAc,EAAE,SAAW,KAGlDX,EAAS,gBAAgB,SACzB,SAAS,cAAc,cAAc,EAAE,SAAW,GAClDA,EAAS,UAAU,IAAI,QAAQ,EAC/BD,EAAU,UAAU,IAAI,QAAQ,EAGhCC,EAAS,iBAAiB,YAAa,UAAY,CAClDA,EAAS,UAAU,IAAI,OAAO,CACjC,CAAG,EAEDA,EAAS,iBAAiB,WAAY,UAAY,CACjDA,EAAS,UAAU,OAAO,OAAO,CACpC,CAAG,EACDD,EAAU,iBAAiB,YAAa,UAAY,CACnDA,EAAU,UAAU,IAAI,OAAO,CAClC,CAAG,EAEDA,EAAU,iBAAiB,WAAY,UAAY,CAClDA,EAAU,UAAU,OAAO,OAAO,CACrC,CAAG,EAGH,CAEA,SAAS,cAAc,cAAc,EAAE,iBAAiB,QAAS,IAAM,CACtE,cAAcE,CAAU,EACxBQ,IAEA,MAAMG,EAAeV,EAEfW,EAAc,IAAI,KAExB,IAAIC,EAAeF,EAAa,QAAS,EAAGC,EAAY,QAAO,EAE3DC,EAAe,IAKlBb,EAAa,YAAY,IAAM,CAE9B,GAAI,CAAE,KAAAI,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUW,CAAY,EAC9D,SAAS,cAAc,aAAa,EAAE,YAAcC,EAAeV,CAAI,EACvE,SAAS,cAAc,cAAc,EAAE,YAAcU,EAAeT,CAAK,EACzE,SAAS,cAAc,gBAAgB,EAAE,YAAcS,EAAeR,CAAO,EAC7E,SAAS,cAAc,gBAAgB,EAAE,YAAcQ,EAAeP,CAAO,EAC7EM,GAAgB,IAEZA,GAAgB,IAEnB,cAAcb,CAAU,EACxB,SAAS,cAAc,cAAc,EAAE,SAAW,GAClD,SAAS,cAAc,kBAAkB,EAAE,SAAW,GAKvD,EAAE,GAAI,EACP,SAAS,cAAc,cAAc,EAAE,SAAW,GAClD,SAAS,cAAc,kBAAkB,EAAE,SAAW,GACtDF,EAAU,UAAU,IAAI,SAAS,EACjCC,EAAS,UAAU,OAAO,QAAQ,EAClCA,EAAS,UAAU,OAAO,OAAO,EAKnC,CAAC,EAED,MAAMgB,EAAU,CACf,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAoB,CAC3B,QAAQ,IAAIA,EAAmB,CAAC,CAAC,EACjCf,EAAmBe,EAAmB,CAAC,EACvCR,GACA,CACF,EACAS,EAAU,mBAAoBF,CAAO,EAErC,SAASD,EAAeI,EAAO,CAC9B,OAAIA,EAAQ,GACJA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EAEhCA,EAAM,UAGf"}